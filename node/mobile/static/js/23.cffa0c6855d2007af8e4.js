webpackJsonp([23],{"9MDx":function(t,s){},okWs:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Xxa5"),i=a.n(e),n=a("exGp"),o=a.n(n),c=a("W4IK"),r=a("Au9i");a("7+uW").default.use(r.InfiniteScroll);var l={data:function(){return{showpage:!1,loading:!1,index:1,limit:20,messageList:[],nodata:!1}},mounted:function(){this.getList(this.messageList.length)},methods:{loadMore:function(){this.loading=!0,this.getList(this.messageList.length)},getList:function(t){var s=this;return o()(i.a.mark(function a(){var e,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s.nodata=!1,a.next=4,c.a.getMessage(t,s.limit);case 4:if(e=a.sent,s.showpage=!0,e&&e.data&&e.data.length>0){for(n=0;n<e.data.length;n++)s.messageList.push(e.data[n]);s.loading=!1}else(s.messageList.length=e.total&&0==e.data.length)?(s.$toast("暂无数据"),s.loading=!0):0==s.messageList.length&&(s.nodata=!0);a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},a,s,[[0,9]])}))()},goDetail:function(t,s){this.$router.push("/commentdetail/"+t+"/"+s)}},components:{Loading:function(t){return a.e(33).then(function(){var s=[a("voil")];t.apply(null,s)}.bind(this)).catch(a.oe)},EmptyInterface:function(t){return a.e(34).then(function(){var s=[a("4/yX")];t.apply(null,s)}.bind(this)).catch(a.oe)}}},m={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bg-white comments_main",class:{home:!t.showpage},attrs:{id:"message-center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showpage,expression:"showpage"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.nodata,expression:"nodata"}],staticClass:"no_data"},[a("EmptyInterface")],1),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"busy"}},t._l(t.messageList,function(s,e){return t.showpage?a("li",{key:e,staticClass:"comments_item"},[a("div",{staticClass:"avatar_img"},[s.user.avatar?a("img",{staticClass:"img_wh",attrs:{src:s.user.avatar,alt:""}}):a("img",{staticClass:"img_wh",attrs:{src:"https://avatar.foreader.com.cn/avatar.png"}})]),t._v(" "),a("div",{staticClass:"comment_info"},[a("p",{staticClass:"comments_author d_f"},[a("span",{staticClass:"author_main d_f"},[s.isAuthor?t._e():a("span",{staticClass:"author_name"},[t._v(t._s(s.user.name))]),t._v(" "),s.isAuthor?a("i",{staticClass:"is-author"}):t._e(),t._v(" "),"REWARD"==s.commentType?a("i",{staticClass:"is-goldlord"}):t._e()]),t._v(" "),a("span",{staticClass:"when_comment c_263036_5"},[t._v(t._s(s.createdFormated))])]),t._v(" "),a("p",{staticClass:"f_14 comments_content"},[t._v("\n            "+t._s(s.replyMy)+"\n          ")]),t._v(" "),a("div",{staticClass:"commetnts_me d_f",class:{isDelete:s.isDelete},on:{click:function(a){return t.goDetail(s.bid,s.parentId)}}},[a("div",{staticClass:"book_img"},[s.bookUrl?a("img",{staticClass:"img_wh",attrs:{src:s.bookUrl,alt:""}}):t._e()]),t._v(" "),a("div",{staticClass:"commetnts_me_main"},[s.isDelete?a("p",[a("span",[t._v("回复我在《"),a("span",{staticClass:"book_name"},[t._v(t._s(s.bookName))]),t._v("》的评论:")]),t._v(" "),a("span",{staticClass:"c_263036_5"},[t._v("此条评论已被删除")])]):a("p",{staticClass:"noDelete"},[a("span",{staticClass:"r_title"},[t._v("回复我在《"),a("span",{staticClass:"book_name"},[t._v(t._s(s.bookName))]),t._v("》的评论:")]),t._v(" "),a("span",{staticClass:"c_263036_5"},[t._v(t._s(s.myReply))])])])])])]):t._e()}),0)]),t._v(" "),a("Loading",{attrs:{showLoading:!t.showpage}})],1)},staticRenderFns:[]};var _=a("VU/8")(l,m,!1,function(t){a("9MDx")},"data-v-67ddae92",null);s.default=_.exports}});