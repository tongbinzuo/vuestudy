webpackJsonp([19],{"3TUF":function(t,a){},N3ks:function(t,a){},PSty:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Xxa5"),n=e.n(s),i=e("exGp"),l=e.n(i),o=e("W4IK"),r=e("Au9i"),c=e("7+uW");c.default.component(r.Switch.name,r.Switch),c.default.use(r.InfiniteScroll),c.default.component(r.Spinner.name,r.Spinner);var u={data:function(){return{showpage:!1,limit:20,offset:0,loading:!1,first:!0,showLoading:!1,walletStatusList:[],nodata:!1}},components:{Loading:function(t){return e.e(33).then(function(){var a=[e("voil")];t.apply(null,a)}.bind(this)).catch(e.oe)},EmptyInterface:function(t){return e.e(34).then(function(){var a=[e("4/yX")];t.apply(null,a)}.bind(this)).catch(e.oe)}},created:function(){this.getWalletStatus(this.offset)},methods:{loadMore:function(){this.loading=!0,this.showLoading=!0,this.getWalletStatus(this.walletStatusList.length)},getWalletStatus:function(t){var a=this;return l()(n.a.mark(function e(){var s,i,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.nodata=!1,e.next=3,o.a.getWalletQuery(t,a.limit);case 3:s=e.sent,a.showpage=!0,a.showLoading=!1;try{if(s&&s.length>0){for(i=s.length,l=0;l<i;l++)s[l].value=!0,a.walletStatusList.push(s[l]);a.loading=!1}else a.walletStatusList.length>0&&0==s.length?(a.loading=!0,a.$toast("暂无数据")):0==a.walletStatusList.length&&(a.nodata=!0)}catch(t){a.$toast("出错了")}case 7:case"end":return e.stop()}},e,a)}))()},saveWalletStatus:function(t,a){var e=this;return l()(n.a.mark(function s(){var i,l,o;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=t.status?"1":"0",l=t.bid,s.next=4,ApiManager.setWalletSetup(i,l);case 4:o=s.sent,e.$toast(o.status),"状态设置成功"==o.status&&setTimeout(function(){e.walletStatusList.splice(a,1),e.nodata=0==e.walletStatusList.length||e.nodata},100);case 7:case"end":return s.stop()}},s,e)}))()}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-white p_lr_17",class:{home:!t.showpage},attrs:{id:"WalletStatus"}},[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"busy"}},t._l(t.walletStatusList,function(a,s){return e("li",{key:s,staticClass:"d_f"},[e("div",{staticClass:"left d_f"},[e("div",{staticClass:"left_img"},[e("img",{staticClass:"img_wh",attrs:{src:a.cover_url,alt:""}})]),t._v(" "),e("div",{staticClass:"wallet-bookInfo d_f"},[e("p",{staticClass:"f_16 c_263036"},[t._v(t._s(a.book_name))]),t._v(" "),e("p",{staticClass:"f_14 c_263036_5"},[t._v(t._s(a.authors[0]))])])]),t._v(" "),e("div",{staticClass:"right"},[e("mt-switch",{on:{change:function(e){return t.saveWalletStatus(a,s)}},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"item.value"}})],1)])}),0),t._v(" "),e("Loading",{attrs:{showLoading:!t.showpage}}),t._v(" "),t.nodata?e("div",{staticClass:"no_data"},[e("EmptyInterface")],1):t._e()],1)},staticRenderFns:[]};var f=e("VU/8")(u,d,!1,function(t){e("N3ks"),e("3TUF")},"data-v-5d02032c",null);a.default=f.exports}});