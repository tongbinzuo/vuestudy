webpackJsonp([21],{Ct9n:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJ1BMVEUAAAAkLjUlMDYnMDcoMjkpPT0zMzsuR0cnMTcnMjklMjgkLzQtPDw8cWy+AAAADXRSTlMATURAJAwJByAbKjERZG4L/AAAAGxJREFUGNNjIAxSUXisgguQuZyCUijShoIOyNxiQRFkLjuadBGqNJuiYAMyP0lQAk16AjI/SFASxWVo0gsFDZB4LILCBUhcR0FzfJLqSDwOQaEEJG6joBpuyYmCqiihIRSAzN2IIsnAw0AcAABROA328KaOsQAAAABJRU5ErkJggg=="},IxhP:function(t,a){},ZUoC:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("mvHQ"),s=e.n(n),i=e("Xxa5"),o=e.n(i),r=e("exGp"),c=e.n(r),l=e("W4IK"),d=e("7+uW"),u=e("Au9i");d.default.use(u.InfiniteScroll);var _={data:function(){return{showpage:!1,loading:!1,first:!0,showLoading:!1,transactionInfo:[],offset:0,limit:20,bid:this.$route.params.bid}},created:function(){this.getTransactionItem(this.offset)},methods:{loadMore:function(){this.loading=!0,this.showLoading=!0,this.getTransactionItem(this.transactionInfo.length)},getTransactionItem:function(t){var a=this;return c()(o.a.mark(function e(){var n,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.bid,e.next=3,l.a.getWalletBuyDetail(n,t,a.limit);case 3:s=e.sent,a.showpage=!0,a.showLoading=!1;try{if(s&&s.data&&s.data.length>0){for(i=0;i<s.data.length;i++)a.transactionInfo.push(s.data[i]);a.loading=!1,s.data.length==a.limit&&(a.first=!1)}else a.$toast("到底了，没有数据了")}catch(t){a.$toast("出错了")}case 7:case"end":return e.stop()}},e,a)}))()},goTransactionDetail:function(t){this.$router.push("/wallettransactiondetail/"+this.bid+"/"+t)},addCollection:function(){var t=this;return c()(o.a.mark(function a(){var e,n,i,r,c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isLogin()){a.next=10;break}return e=t.$route.params.bid,a.next=4,l.a.addCollection(e);case 4:if(n=a.sent,(i=/^2\d{2}$/.test(n))?t.$toast("收藏成功"):t.$toast("收藏失败"),i)try{r=localStorage.getItem("favs"),!t.isObjEmpty(r)&&e&&((c=JSON.parse(r)).push(e),localStorage.setItem("favs",s()(c)))}catch(t){console.log(t)}a.next=11;break;case 10:t.$router.push("/login");case 11:case"end":return a.stop()}},a,t)}))()}},components:{Loading:function(t){return e.e(33).then(function(){var a=[e("voil")];t.apply(null,a)}.bind(this)).catch(e.oe)}}},f={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"p_lr_17",class:{home:!t.showpage},attrs:{id:"walletTransactionItem"}},[t.showpage?e("div",[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"busy"}},t._l(t.transactionInfo,function(a,n){return e("li",{key:n,staticClass:"d_f"},["single"==a.trade_type?e("p",{staticClass:"f_14",attrs:{title:a.trade_name}},[t._v("购买: 第"+t._s(a.trade_index)+"章\n          "+t._s(a.trade_name)+" ")]):e("p",{staticClass:"f_14"},[t._v("批量购买: "+t._s(a.trade_name)+"章")]),t._v(" "),"single"!=a.trade_type?e("p",{staticClass:"c_263036_5  f_12 ic_arrow_main d_f",on:{click:function(e){return t.goTransactionDetail(a.trade_id)}}},[e("span",[e("span",[t._v(t._s(a.recharge_amount)+"币")]),t._v(" "),e("span",[t._v(t._s(a.give_amount)+"赠送币")])]),t._v(" "),t._m(0,!0)]):e("p",{staticClass:"c_263036_5  f_12"},[e("span",[t._v(t._s(a.recharge_amount)+"币")]),t._v(" "),e("span",[t._v(t._s(a.give_amount)+"赠送币")])]),t._v(" "),e("p",{staticClass:"c_263036_3  f_12"},[t._v(t._s(a.trade_time))])])}),0),t._v(" "),e("a",{staticClass:"goCollection",attrs:{href:"javascript:;"},on:{click:t.addCollection}},[e("i"),t._v("加入收藏")])]):t._e(),t._v(" "),e("Loading",{attrs:{showLoading:!t.showpage}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("span",{staticClass:"c_263036_3 ic_arrow"},[a("img",{attrs:{src:e("Ct9n")}})])}]};var A=e("VU/8")(_,f,!1,function(t){e("IxhP")},"data-v-1c422ee1",null);a.default=A.exports}});